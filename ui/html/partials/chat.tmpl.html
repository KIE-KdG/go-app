{{define "title"}}Chat{{end}}

{{define "head"}}
<!-- HTMX Websockets extension https://htmx.org/extensions/web-sockets/ -->
<script src="https://unpkg.com/htmx.org/dist/ext/ws.js" defer></script>
<script src="/static/js/script.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js" defer></script>
{{end}}

{{define "chat"}}
<body>
  <div class="container-fluid">
    <div class="row">
      <!-- Sidebar Column (Left) -->
      <div class="col-md-3" style="height: 100vh;">
        <div class="p-3">
          <h4>Chat History</h4>
          <!-- Dummy chat history data -->
          <ul class="list-group">
            <li class="list-group-item">Chat with John Doe</li>
            <li class="list-group-item">Jane Smith</li>
            <li class="list-group-item">Project Group</li>
            <li class="list-group-item">Support Chat</li>
            <li class="list-group-item">Random Talks</li>
          </ul>
        </div>
      </div>
      
      <!-- Chat Area Column (Right) -->
      <div class="col-md-9 d-flex justify-content-center align-items-center" style="min-height: 100vh; position: relative;">
        <!-- Chat box wrapper with a max width -->
        <div class="position-relative w-100" style="max-width: 50rem;">
          <!-- Chat Card: height fills viewport minus header/footer space -->
          <div class="card" style="height: calc(100vh - 6rem);">
            <!-- The messages area is scrollable if content exceeds available space -->
            <div id="messages" class="card-body p-0 overflow-auto" style="height: calc(100% - 3.5rem);">
              <!-- Messages will be appended here -->
            </div>
          </div>
          <!-- Chat Form: positioned over the bottom of the card -->
          <form id="chat-form" class="position-absolute w-100" style="bottom: 0; left: 0;">
            <div class="input-group">
              <input type="text" class="form-control" name="text" id="message-input" placeholder="Type a message..." required>
              <button type="submit" class="btn btn-primary">Send</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
{{end}}
